{% extends "site-base.html" %}

<!-- title -->
{% block title %} Home {% endblock %} 

<!-- style -->
{% block style %}
    .nav-autovedic {
        height: 50vh;
    }
    .input-group[class*="col-"] {
        padding-right: 15px;
        padding-left: 15px;
    }
    .input-group {
        padding-top:5vh;
        padding-left:2;
        padding-right:2;
    }
    .dropdown-item:hover {
        cursor:pointer;
    }
{% endblock %}

<!-- nav -->
{% block nav %}
    {% from 'macro.html' import search %}
    {{search(id='model_brand', name='model_brand',placeholder='Search Garages', value='')}}
{% endblock %}

<!-- body -->
{% block body %}
    {% with messages = get_flashed_messages() %}
        {% if messages %}
        <span class=flashes>
            {% for message in messages %}
            {{ message }}
            {% endfor %}
        </span>
        {% endif %}
    {% endwith %}
{% endblock %}

<!-- scripts -->
{% block scripts %} 
    <script type=text/javascript>
    </script>
    <script>
        var availablemodels = [
        {% for m in model_brand().values() %}
            "{{m}}",
        {% endfor %}
    ]

    $(document).ready(function() {
        $('#model_brand').autocomplete({
            source: function(request, response){
            var results = $.ui.autocomplete.filter(availablemodels, request.term);
            response(results.slice(0, 5));
            }
            
        })
    });
    </script>
<script src="{{url_for('site.static', filename='js/search.js')}}"></script>
{% endblock %}